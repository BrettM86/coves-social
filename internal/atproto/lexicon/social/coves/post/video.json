{
  "lexicon": 1,
  "id": "social.coves.post.video",
  "defs": {
    "main": {
      "type": "record",
      "description": "A video post",
      "key": "tid",
      "record": {
        "type": "object",
        "required": ["community", "title", "video", "createdAt"],
        "properties": {
          "community": {
            "type": "string",
            "format": "at-uri",
            "description": "AT-URI of the community this was posted to"
          },
          "title": {
            "type": "string",
            "maxGraphemes": 300,
            "maxLength": 3000,
            "description": "Post title"
          },
          "video": {
            "type": "ref",
            "ref": "social.coves.embed.video",
            "description": "Video content"
          },
          "caption": {
            "type": "string",
            "maxLength": 10000,
            "description": "Optional caption or description"
          },
          "captionMarkup": {
            "type": "array",
            "description": "Rich text annotations for caption",
            "items": {
              "type": "union",
              "refs": [
                "social.coves.richtext.markup",
                "social.coves.richtext.mention",
                "social.coves.richtext.link"
              ]
            }
          },
          "tags": {
            "type": "array",
            "maxLength": 10,
            "items": {
              "type": "string",
              "maxLength": 32
            }
          },
          "nsfw": {
            "type": "boolean",
            "default": false
          },
          "contentLabels": {
            "type": "array",
            "description": "Self-applied content labels",
            "items": {
              "type": "string",
              "knownValues": ["nsfw", "spoiler", "violence"],
              "maxLength": 32
            }
          },
          "federatedFrom": {
            "type": "ref",
            "ref": "social.coves.federation.post"
          },
          "location": {
            "type": "ref",
            "ref": "social.coves.actor.profile#geoLocation"
          },
          "crosspostOf": {
            "type": "string",
            "format": "at-uri",
            "description": "If this is a crosspost, AT-URI of the post this is a crosspost of"
          },
          "crosspostChain": {
            "type": "array",
            "description": "Array of AT-URIs of all posts in the crosspost chain (including this one)",
            "items": {
              "type": "string",
              "format": "at-uri"
            }
          },
          "createdAt": {
            "type": "string",
            "format": "datetime"
          }
        }
      }
    }
  }
}